{% extends 'core/base.html' %}

{% block title %}My Sessions{% endblock %}

{% block content %}
<div class="page-container">
    <h1 class="page-title">My Journey</h1>

    {% if appointments %}
    <div class="appointments-list">
        {% for apt in appointments %}
        <div class="appointment-card"
            style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-left: 5px solid {% if apt.status == 'CONFIRMED' %}#4caf50{% elif apt.status == 'PENDING' %}#ff9800{% else %}#9e9e9e{% endif %};">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h3 style="margin: 0 0 5px 0; font-size: 1.2rem;">{{ apt.get_session_type_display }} Session</h3>
                    <p style="margin: 0; color: #666;">{{ apt.start_time|date:"F j, Y, P" }} - {{ apt.end_time|date:"P"
                        }}</p>
                </div>
                <div style="text-align: right;">
                    <span class="status-badge"
                        style="background: #eee; padding: 5px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 500;">
                        {{ apt.get_status_display }}
                    </span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="text-align: center; padding: 50px 0;">
        <p>You haven't booked any sessions yet.</p>
        <a href="{% url 'booking' %}" class="btn-submit"
            style="text-decoration: none; display: inline-block; margin-top: 20px;">Book First Session</a>
    </div>
    {% endif %}
</div>
{% endblock %}